!function(){"use strict";var e,t={941:function(){},178:function(e,t,n){var i=n(212),r=function(){function e(){this.camera=new i.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.z=454,this.scene=new i.Scene,this.renderer=new i.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.imagePlane=new i.Mesh,this.isDragging=!1,this.lastX=0,this.limit=179,this.sensitivity=1,this.layers=[],this.colliders=[],this.materials=[],this.hoverMaterials=[],this.layerPositions=[new i.Vector2(-750,150),new i.Vector2(-550,180),new i.Vector2(-700,-200),new i.Vector2(-500,0),new i.Vector2(-350,-230),new i.Vector2(-90,-225),new i.Vector2(-250,-70),new i.Vector2(-320,150),new i.Vector2(-20,200),new i.Vector2(90,-120)],this.layerScales=[new i.Vector2(1.5,3),new i.Vector2(2,1.8),new i.Vector2(4,2.8),new i.Vector2(2,1.2),new i.Vector2(3,1.9),new i.Vector2(2,1.9),new i.Vector2(4,2),new i.Vector2(2,3),new i.Vector2(3.5,1.9),new i.Vector2(2,2)],this.annotation=document.querySelector(".annotation"),this.currentPopupPosition=new i.Vector3,document.body.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.addEventListeners(),this.drawBackground(),this.drawForeground(),this.drawLayers(),this.animate()}return e.prototype.addEventListeners=function(){var e=this;this.renderer.domElement.addEventListener("mousedown",(function(t){e.isDragging=!0,e.lastX=t.clientX})),this.renderer.domElement.addEventListener("mouseup",(function(){e.isDragging=!1})),this.renderer.domElement.addEventListener("mousemove",(function(t){if(e.isDragging){var n=t.clientX-e.lastX,i=e.camera.position.x-n*e.sensitivity;e.camera.position.x=Math.max(-e.limit,Math.min(e.limit,i)),e.lastX=t.clientX,e.renderer.render(e.scene,e.camera)}}));var t,n=new i.Raycaster,r=new i.Vector2;this.renderer.domElement.addEventListener("mousemove",(function(i){if(r.x=i.clientX/window.innerWidth*2-1,r.y=-i.clientY/window.innerHeight*2+1,n.setFromCamera(r,e.camera),(t=n.intersectObjects(e.colliders)).length>0){var o=t[0].object.userData.id;e.resetMaterials(),e.changeMaterial(e.layers[o],e.hoverMaterials[o])}else e.resetMaterials(),e.hidePopup()})),this.renderer.domElement.addEventListener("click",(function(i){if(r.x=i.clientX/window.innerWidth*2-1,r.y=-i.clientY/window.innerHeight*2+1,n.setFromCamera(r,e.camera),(t=n.intersectObjects(e.colliders)).length>0){var o=t[0].object.userData.id;e.currentPopupPosition=e.colliders[o].position,e.showPopup(e.layers[o])}}))},e.prototype.drawBackground=function(){var e=(new i.TextureLoader).load("images/textures/bg.png"),t=new i.PlaneGeometry(1698,637),n=new i.MeshBasicMaterial({map:e});this.imagePlane=new i.Mesh(t,n),this.scene.add(this.imagePlane)},e.prototype.drawForeground=function(){var e=(new i.TextureLoader).load("images/textures/full_frame.png"),t=new i.PlaneGeometry(1698,637),n=new i.MeshBasicMaterial({map:e,transparent:!0}),r=new i.Mesh(t,n);r.position.z=.1,this.scene.add(r)},e.prototype.drawLayers=function(){for(var e=1;e<=10;e++){var t=(new i.TextureLoader).load("images/textures/frames/Frame-"+e+".png"),n=new i.PlaneGeometry(1698,637),r=new i.MeshBasicMaterial({map:t,transparent:!0}),o=(new i.TextureLoader).load("images/textures/frames/Frame-"+e+"-hover.png"),a=new i.MeshBasicMaterial({map:o,transparent:!0}),s=new i.Mesh(n,r);s.visible=!1,s.position.z=.2*e,s.userData={id:e-1},this.scene.add(s);var c=new i.PlaneGeometry(100,100),l=new i.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.5}),d=new i.Mesh(c,l);d.position.z=.2*e,d.position.setX(this.layerPositions[e-1].x),d.position.setY(this.layerPositions[e-1].y),d.scale.setX(this.layerScales[e-1].x),d.scale.setY(this.layerScales[e-1].y),d.userData={id:e-1},d.visible=!1,this.scene.add(d),this.layers.push(s),this.colliders.push(d),this.materials.push(r),this.hoverMaterials.push(a)}},e.prototype.changeMaterial=function(e,t){e.visible=!0,e.material=t},e.prototype.resetMaterials=function(){for(var e=0;e<this.layers.length;e++)this.layers[e].material=this.materials[e],this.layers[e].visible=!1},e.prototype.onWindowResize=function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},e.prototype.showPopup=function(e){var t=e.position.clone(),n=this.renderer.domElement;t.project(this.camera),t.x=Math.round((.5+t.x/2)*(n.width/window.devicePixelRatio)),t.y=Math.round((.5-t.y/2)*(n.height/window.devicePixelRatio)),this.annotation instanceof HTMLElement&&(this.annotation.style.top=t.y+"px",this.annotation.style.left=t.x+"px",this.annotation.style.display="block")},e.prototype.hidePopup=function(){this.annotation instanceof HTMLElement&&(this.annotation.style.display="none")},e.prototype.drawAnnotation=function(){var e=document.getElementById("popup");if(e instanceof HTMLCanvasElement){var t=e.getContext("2d");if(t){var n=2*Math.PI;t.fillStyle="rgb(0, 0, 0)",t.beginPath(),t.arc(32,32,30,0,n),t.fill(),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=3,t.beginPath(),t.arc(32,32,30,0,n),t.stroke(),t.fillStyle="rgb(255, 255, 255)",t.font="32px sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText("1",32,32)}}},e.prototype.updateScreenPosition=function(){var e=new i.Vector3(this.currentPopupPosition.x,this.currentPopupPosition.y,this.currentPopupPosition.z),t=this.renderer.domElement;e.project(this.camera),e.x=Math.round((.5+e.x/2)*(t.width/window.devicePixelRatio)),e.y=Math.round((.5-e.y/2)*(t.height/window.devicePixelRatio)),this.annotation instanceof HTMLElement&&(this.annotation.style.top=e.y+"px",this.annotation.style.left=e.x+"px")},e.prototype.animate=function(){requestAnimationFrame(this.animate.bind(this)),this.renderer.render(this.scene,this.camera),this.updateScreenPosition()},e}();new r}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=function(t,n,r,o){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(s=!1,o<a&&(a=o));s&&(e.splice(l--,1),t=r())}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],s=n[1],c=n[2],l=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(c)var d=c(i);for(t&&t(n);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[a[l]]=0;return i.O(d)},n=self.webpackChunkthree_typescript_webpack_starter=self.webpackChunkthree_typescript_webpack_starter||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),i.O(void 0,[212],(function(){return i(178)}));var r=i.O(void 0,[212],(function(){return i(941)}));r=i.O(r)}();